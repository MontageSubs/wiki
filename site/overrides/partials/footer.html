<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid custom-footer-container">
      
      <div class="footer-col left-col">
        <div class="footer-row-item footer-row-cc">
          <span class="cc-license">ç™¾ç§‘æ–‡å­—å†…å®¹åœ¨ <a href="{{ 'CC-BY-SA-4.0è®¸å¯è¯' | url }}">CC BY-SA 4.0</a> è®¸å¯ä¸‹æä¾›</span>
        </div>
        <div class="footer-row-item footer-row-nav">
          <nav class="footer-nav">
            <a href="{{ 'å…³äºæˆ‘ä»¬' | url }}">å…³äºæˆ‘ä»¬</a> <span class="nav-sep">|</span>
            <a href="{{ 'éšç§æ”¿ç­–' | url }}">éšç§æ”¿ç­–</a> <span class="nav-sep">|</span>
            <a href="{{ 'æœåŠ¡åè®®' | url }}">æœåŠ¡åè®®</a> <span class="nav-sep">|</span>
            <a href="{{ 'å‚ä¸è´¡çŒ®' | url }}">å‚ä¸è´¡çŒ®</a>
          </nav>
        </div>
      </div>

      <div class="footer-col right-col">
        <div class="footer-row-item footer-row-social md-social">
          {% if config.extra.social %}
            {% for social in config.extra.social %}
              <a href="{{ social.link | url }}"
                  target="_blank"
                  rel="noopener"
                  title="{{ social.name }}"
                  aria-label="{{ social.name }}"
                  class="md-social__link">
                {% if loop.first %}
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 25.5-20.6 46.1-46.1 46.1H354.1V333.8h-132.2v160.1H73.6c-25.5 0-46.1-20.6-46.1-46.1l.7-160.2H32c-18 0-32-14.1-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-10 24-10s17 3 24 10l251.4 223.5c7 7 10 15 10 24z"></path></svg>
                {% else %}
                  {% include ".icons/" ~ social.icon ~ ".svg" %}
                {% endif %}
              </a>
            {% endfor %}
          {% endif %}
        </div>
        
        <div class="footer-row-item footer-row-brand brand-group-wrapper brand-trigger" style="cursor: pointer;">
          <span class="group-name">è’™å¤ªå¥‡å­—å¹•ç»„ (MontageSubs)</span>
          <span class="slogan">ç”¨çˆ±å‘ç”µ â¤ï¸ Powered by Love</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function() {
        const style = document.createElement('style');
        style.innerHTML = `
            .heart-particle {
                position: fixed; z-index: 10001; user-select: none; pointer-events: none; will-change: transform;
                animation: heart-physics var(--dur) cubic-bezier(0.15, 0, 0.5, 1) forwards, heart-opacity var(--dur) ease-in forwards;
            }
            @keyframes heart-physics {
                0% { transform: translate(0, 0) rotate(0deg) scale(0); }
                25% { transform: translate(calc(var(--target-x) * 0.4), var(--peak-y)) rotate(var(--rot-mid)) scale(1.2); }
                100% { transform: translate(var(--target-x), 110vh) rotate(var(--rot-end)) scale(0.8); }
            }
            @keyframes heart-opacity { 0% { opacity: 0; } 10% { opacity: 1; } 85% { opacity: 1; } 100% { opacity: 0; } }
            .easter-egg-dimmer {
                position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
                background: rgba(0, 0, 0, 0.4); z-index: 10000; opacity: 0; transition: opacity 0.3s; pointer-events: auto;
            }
        `;
        document.head.appendChild(style);

        const trigger = document.querySelector('.brand-trigger');
        if (!trigger) return;

        let count = 0, last = 0, isRunning = false;

        trigger.addEventListener('click', (e) => {
            if (isRunning) return;
            const now = Date.now();
            if (now - last > 1000) count = 0;
            last = now;
            if (++count === 5) {
                isRunning = true;
                fireBurst(e);
                count = 0;
            }
        });

        function fireBurst(e) {
            const dimmer = document.createElement('div');
            dimmer.className = 'easter-egg-dimmer';
            document.body.appendChild(dimmer);
            requestAnimationFrame(() => dimmer.style.opacity = '1');

            const emojis = ['â¤ï¸', 'â¤ï¸', 'â¤ï¸', 'ğŸ’–', 'ğŸ’', 'ğŸ’•', 'ğŸ§¡', 'ğŸ’›', 'ğŸ’š', 'ğŸ’™', 'ğŸ’œ'];
            const isMobile = window.matchMedia("(max-width: 47.9375em)").matches;
            
            const startX = e.clientX;
            const startY = e.clientY;
            const total = 60;

            for (let i = 0; i < total; i++) {
                const el = document.createElement('div');
                el.className = 'heart-particle';
                el.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];

                let angle;
                if (isMobile) {
                    angle = (Math.random() * 60 + 240) * (Math.PI / 180);
                } else {
                    angle = (Math.random() * 180 + 140) * (Math.PI / 180);
                }

                const power = Math.random() * 400 + 300;
                const dur = 3 + Math.random() * 2;

                el.style.left = `${startX}px`;
                el.style.top = `${startY}px`;
                el.style.setProperty('--dur', `${dur}s`);
                el.style.setProperty('--target-x', `${Math.cos(angle) * power * 1.5}px`);
                el.style.setProperty('--peak-y', `${-(startY * 0.5 + Math.random() * 200)}px`);
                el.style.setProperty('--rot-mid', `${(Math.random()-0.5)*360}deg`);
                el.style.setProperty('--rot-end', `${(Math.random()-0.5)*1080}deg`);
                el.style.fontSize = `${20 + Math.random() * 15}px`;

                document.body.appendChild(el);
                el.addEventListener('animationend', () => el.remove());
            }
            setTimeout(() => {
                dimmer.style.opacity = '0';
                isRunning = false; 
                setTimeout(() => dimmer.remove(), 300);
            }, 2800);
        }
    })();
  </script>
</footer>
