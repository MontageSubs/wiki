{% extends "main.html" %}

{% block content %}
  <article class="md-content__inner md-typeset" style="text-align: center; margin-top: 4rem; max-width: 360px; margin-left: auto; margin-right: auto;">
    <h1 style="font-weight: 800; margin-bottom: 1.5rem;">404 - 此条目尚不存在</h1>
    
    <p style="color: var(--md-default-fg-color--light); font-size: 0.85rem; margin-bottom: 0.5rem; line-height: 1.6;">
      字幕始于空白的轴线，百科成于点滴的积累。
    </p>
    <p style="font-weight: 600; font-size: 1.1rem; margin-bottom: 2.5rem; color: var(--md-default-fg-color);">
      何不亲手填补这块空白？
    </p>

    <div style="display: flex; flex-direction: column; gap: 12px;">
      
      <a id="gh-create-btn" 
         href="https://github.com/login?return_to=https%3A//github.com/MontageSubs/wiki/wiki/_new" 
         class="gh-btn-primary" 
         style="color: #ffffff !important; padding: 12px; border-radius: 6px; text-align: center; text-decoration: none; font-size: 0.9rem; font-weight: 600; display: block; border: 1px solid rgba(27, 31, 35, 0.15);">
        使用 GitHub 创建此条目
      </a>

      <a href="{{ '' | url }}" class="gh-btn-secondary" 
         style="padding: 10px; border-radius: 8px; font-size: 0.85rem; font-weight: 500; border: 1px solid var(--md-divider-color); text-align: center; text-decoration: none; display: block;">
        返回首页
      </a>

    </div>
  </article>

  <style>
    /* 核心操作按钮 (GitHub 绿) */
    .gh-btn-primary { background-color: #1f883d; }
    .gh-btn-primary:hover { background-color: #1a7a35; }
    [data-md-color-scheme="slate"] .gh-btn-primary { background-color: #238636; }
    [data-md-color-scheme="slate"] .gh-btn-primary:hover { background-color: #2ea043; }

    /* 次要按钮样式 (Light Mode) */
    .gh-btn-secondary { 
        background-color: #f6f8fa; 
        color: #24292f !important; 
        transition: background-color 0.2s;
    }
    .gh-btn-secondary:hover { background-color: #f3f4f6; }

    [data-md-color-scheme="slate"] .gh-btn-secondary { 
        background-color: #212830; 
        color: #adbac7 !important; 
        border-color: #444c56;
    }
    [data-md-color-scheme="slate"] .gh-btn-secondary:hover { 
        background-color: #262c36; 
        border-color: #768390;
    }
  </style>

  <script>
    (function() {
      try {
        var currentPath = window.location.pathname;
        var pathSegments = currentPath.split('/').filter(Boolean);
        var pageName = pathSegments.length > 0 ? pathSegments[pathSegments.length - 1] : "";

        if (pageName) {
            var repoWikiUrl = "https://github.com/MontageSubs/wiki/wiki";
            var targetUrl = repoWikiUrl + "/" + pageName;
            var loginRedirectUrl = "https://github.com/login?return_to=" + encodeURIComponent(targetUrl);
            
            var btn = document.getElementById('gh-create-btn');
            if (btn) btn.href = loginRedirectUrl;
        }
      } catch (e) {
      }
    })();
  </script>
{% endblock %}
