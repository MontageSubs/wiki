这份 Wiki 旨在分享一种进阶的后期策略：通过 SVG 矢量转换 绕过 ASS 字幕最令人头疼的“字体分发与兼容性”大坑。

---


> **“最高级的字体兼容方案，就是让用户根本不需要安装字体。”**

作为混迹圈子多年的后期，你一定经历过这种绝望：费尽心思选了一款绝赞的片头字体，结果压制组漏了字体包，或者观众的播放环境没安装，导致精心设计的视觉效果瞬间变成系统自带的黑体或宋体，所有效果瞬间失效，位置关系失去原有设计效果。

通过将特殊文字转化为 **ASS 绘图指令（\p 标签）**，我们可以把字体形状直接“固化”在脚本中，实现像素级的视觉统一。

---

## 📘 背景科普：为什么 ASS 无法解决字体兼容性？

### 1. 字体依赖的“致命伤”

ASS 脚本本质上是文本文件，它只记录了“这里要用某种字体”，而不包含字体数据本身。

* **痛点**：如果目标用户的设备没有对应的字体文件，渲染引擎会自动回退（Fallback）到系统默认字体。
* **解决的问题**：通过 SVG 转换，我们将文字变成了“坐标线条”，播放器不再需要调用字体库，哪怕用户电脑里一个字体都没有，也能完美还原你的设计。

### 2. 场景化需求：片头与特殊文字

* **高精排版**：片头（OP）和特殊的 Logo 文字通常对 Kernings（字间距）和笔画细节有极高要求。
* **无损分发**：对于需要公开发布的精品字幕，这种方式可以免去附带庞大字体包的麻烦。

---

## 🛠️ 技术实现工具

为了简化繁琐的坐标计算，你可以直接使用我开发的在线转化工具：

🔗 **[SVG to ASS 绘图指令在线转换器](https://montagesubs.github.io/svg-to-ass/)**

### ⚠️ 工具局限性与使用提醒（必读）

1. **适用范围**：该工具最擅长处理**字体轮廓**、**纯矢量线条**以及**简单几何图形**。
2. **多层特效禁忌**：如果你在 Figma 或 AI 中设计了带有“多层光晕”、“复杂阴影”或“渐变填充”的复合图形，请**务必拆分成多个独立的图层**分批转化。
3. **性能风险**：严禁尝试一次性转化包含数千个路径点的超复杂 SVG 文件，否则巨大的运算量会导致网页直接卡死，甚至引起浏览器崩溃。
4. **大佬建议**：将图形拆分为“底色”、“边框”、“光效”等不同图层后，再在 Aegisub 中通过图层（Layer）叠加功能重新组合。

### 📏 进阶技巧：图形缩放与精度控制

在使用 **[SVG to ASS 在线转换器](https://montagesubs.github.io/svg-to-ass/)** 时，你会发现工具栏中有“精度 Scale”和“Header Tags”设置。这里有几个操作细节需要注意：

#### 1. 为什么粘贴后图形变得异常巨大？

当你选择 **8x (p4 推荐)** 精度时，为了保证曲线圆滑，工具会将所有坐标数值放大 8 倍。这会导致图形直接“爆屏”。

* **解决方法**：在转换器的 **Header Tags** 栏中，你会看到默认自带了 `\fscx1000\fscy1000` 标签。

#### 2. 如何灵活调整显示大小？

不要试图去修改那串密密麻麻的坐标数字，直接通过 **百分比缩放标签** 来控制：

* **缩小图形**：将 `\fscx1000\fscy1000` 修改为更小的值。例如，改为 `{\fscx100\fscy100}` 即可将图形缩小到原来的十分之一。
* **大佬调侃建议**：如果你发现粘贴后屏幕漆黑一片，别慌，那不是报错，只是你的图形太大了。赶紧调小 `\fscx/y` 的数值。

#### 3. 精度选择建议

* **p4 ( 缩放)**：这是目前最推荐的平衡方案，能够保证在 4K 分辨率下曲线依然没有锯齿感。
* 如果你不需要极高的精度，也可以尝试调低 Scale 倍数，这样生成的代码行数会更少，减轻播放器的渲染压力。
---

## 🛠️ 技术实现流程：从矢量到指令

### 1. 矢量化转换 (The Vectorization)

* **操作**：在 Illustrator、Figma 中输入文字，调整好间距后，执行 **“创建轮廓 (Create Outlines)”**。
* **优化**：直接复制 SVG 代码，并确保路径已合并，锚点数量越少，生成的代码性能越好。

### 2. 坐标转换与代码生成

* **工具**：将复制好的 SVG 代码直接粘贴 **[SVG to ASS 转换器](https://montagesubs.github.io/svg-to-ass/)**。
* **结果**：你会得到一串由 `m` (move)、`l` (line) 和 `b` (bezier) 组成的坐标序列。

### 3. 标签封装

将代码填入选中的字幕行中，并包裹绘图标签：
`{\p1}m 0 0 l 100 0 ... {\p0}`

* **对齐微调**：由于绘图原点可能不在预想位置，建议配合 `Batch Move` 脚本进行像素级的位移修正。

---

## 💡 避坑指南

1. **性能与渲染压力**：绘图指令虽然强大且兼容性非常好，但每一帧都需要 CPU 计算坐标。对于片头几秒钟的文字非常完美，但切记不要把整部片的对白都转成绘图，那会导致低配设备播放时严重掉帧。
2. **配合渐变特效**：转化后的绘图图形配合 `Pro Gradient Smart Pos` 脚本可以做出极其丝滑的垂直渐变，这通常是字体标签难以完美实现的。

